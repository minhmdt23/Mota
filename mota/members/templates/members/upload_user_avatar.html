{% extends 'blog/base.html' %}
{% load static %}
{% block content %}


	<style type="text/css">
		.upload-container input {
		    border: 1px solid #92b0b3;
		    background: #f1f1f1;
		    outline: 2px dashed #92b0b3;
		    outline-offset: -10px;
		    width: 100%;
		    height: 33vh;
		    line-height: 33vh;
		}
		 
		.upload-container input:hover {
		    background: #ddd;
		}
	</style>

	{{ upload }}

	<div class="container justify-content-center text-center">
		<form action="#" method="post" runat="server" enctype="multipart/form-data">
			{% csrf_token %}
			<div class="upload-container">
				<img class="rounded-circle mb-3 mt-3" style="width: 300px; height: 300px;" id="blah" src="{% static 'members/default_user_avatar/default_user.png' %}"/>
		      	<input accept="image/*" id="imgInp" class="form-control" type="file" id="file_upload" name="avatar" accept=".jpg, .png, .jpeg"/>
			</div>
			<br>
			<button class="upload-btn btn btn-light mb-5" onclick="uploadFiles()">LÆ°u</button>
		</form>
	</div>

<script type="text/javascript">
	function uploadFiles() {
    var files = document.getElementById('file_upload').files;
    if(files.length==0){
        alert("Please first choose or drop any file(s)...");
        return;
    }
    var filenames="";
    for(var i=0;i<files.length;i++){
        filenames+=files[i].name+"\n";
    }
    alert("Selected file(s) :\n____________________\n"+filenames);
}
</script>

<script type="text/javascript">
	imgInp.onchange = evt => {
	  const [file] = imgInp.files
	  if (file) {
	    blah.src = URL.createObjectURL(file)
	  }
	}
</script>


{% endblock %}